<head>
<!--
 <link href="b64.css" rel="stylesheet" type="text/css">
-->
</head>

<table width = "100%">
 <tr>
<!--
  <td align = "center" valign = "middle">
   <a href = "http://www.cuj.com/"><img src = "cuj_logo.gif" border = "0" width = "155" height = "50" alt = "C/C++ User's Journal" /></a>
  </td>
-->
  <td align = "left" valign = "middle">
   <a href = "http://www.synesis.com.au/"><img src="http://www.synesis.com.au/images/syn_head.jpg" border = "0" width = "343" height = "50" alt = "Synesis Software" /></a>
  </td>
<!--
  <td align = "right" valign = "middle">
   <a href = "http://stlsoft.org"><img src = "stlsoft200x100.jpg" border = "0" width = "100" height = "50" alt = "STLSoft - ... Robust, Lightweight, Cross-platform, Template Software ..." /></a>
  </td>
-->
<!--
  <td align = "center" valign = "middle">
   <a href = "http://atlstl.org"><img src = "atlstl200x100.jpg" border = "0" width = "100" height = "50" alt = "ATLSTL - where the Standard Template Library meets the Active Template Library" /></a>
  </td>
-->
<!--
  <td align = "center" valign = "middle">
   <a href = "http://comstl.org"><img src = "comstl200x100.jpg" border = "0" width = "100" height = "50" alt = "COMSTL - where the Standard Template Library meets the Component Object Model" /></a>
  </td>
-->
<!--
  <td align = "center" valign = "middle">
   <a href = "http://inetstl.org"><img src = "inetstl200x100.jpg" border = "0" width = "100" height = "50" alt = "InetSTL - where the Standard Template Library meets the Internet" /></a>
  </td>
-->
<!--
  <td align = "center" valign = "middle">
   <a href = "http://unixstl.org"><img src = "unixstl200x100.jpg" border = "0" width = "100" height = "50" alt = "UNIXSTL - Template Software for the UNIX Operating System" /></a>
  </td>
  <td align = "center" valign = "middle">
   <a href = "http://winstl.org"><img src = "winstl200x100.jpg" border = "0" width = "100" height = "50" alt = "WinSTL - where the Standard Template Library meets the Win32 API" /></a>
  </td>
-->
 </tr>
 <tr>
  <td width = "100%" colspan = "2">
   <hr width = "100%">
  </td>
 </tr>
</table>
<!-- Generated by Doxygen 1.5.4 -->
<div class="tabs">
  <ul>
    <li class="current"><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="classes.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul>
</div>
<h1>What is cstring?</h1>
<p>
<h3 align="center">Version 3.6.2 </h3><h2><a class="anchor" name="section__introduction">
Introduction</a></h2>
<b>cstring</b> is a small and simple C library for the definition and manipulation of expandable C-style strings.<h2><a class="anchor" name="section__license">
License</a></h2>
<b>cstring</b> is released under the <a href="http://www.opensource.org/licenses/bsd-license.html">BSD</a> license, which basically means its free for any use, but you can't claim it's yours.<h2><a class="anchor" name="section__c_api">
C-API</a></h2>
The library is implemented in C, and provides a simple C-API, consisting of the following functions: <ul>
<li><a class="el" href="cstring_8h.html#9e10c2498d375b767f6a6825f6368430" title="[DEPRECATED] This function is deprecated, and may be removed in a future version:...">cstring_error()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#gb9ec0ffeb39cef0f6cbeaabf52cc83d8" title="Initialises a cstring instance to a default form.">cstring_init()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#gd7609f5a3cc45f1b253eb1a973cc31b8" title="Creates a cstring instance from a C-style string.">cstring_create()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#g090a18056a326538bc98069152c68a69" title="Creates a cstring instance from a fixed number of characters.">cstring_createLen()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#gc2a04a05eafb79f1379c7ee53cf6483a" title="Creates a cstring instance with special characteristics from a C-style string.">cstring_createEx()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#gbd623b9638b07036364c43b1d529d3b7" title="Creates a cstring instance with special characteristics from a fixed number of characters...">cstring_createLenEx()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#gac460578aca86af82a7e2c02123e8540" title="Releases resources and resets the attributes of the cstring instance.">cstring_destroy()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#g8fadf22f8824bf7ffebb4544ad93090e" title="Removes the allocated buffer from the cstring instance into a caller supplied pointer...">cstring_yield2()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#ge81b99b58d3b60c81eadf0c08c0294b1" title="Sets the capacity of the cstring instance.">cstring_setCapacity()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#g5f3b3528568397913073627f0519c512" title="Assigns a C-style string to the cstring instance.">cstring_assign()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#gb3abfd602615ed535763c1cc287d17f0" title="Assigns a fixed number of characters to the cstring instance.">cstring_assignLen()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#g3b966ef9162f8e642e5e61c863f3f5d5" title="Copies the contents of one cstring instance to another.">cstring_copy()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#g5e0f0c34866a1e0697a887dc1efa279d" title="Appends a C-style string to the cstring instance.">cstring_append()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#g47b8f8653362095a3ff01aa5737976ab" title="Appends a fixed number of characters to the cstring instance.">cstring_appendLen()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#ga6493f2db9c6b7f24ef20b3c78aaae81" title="Truncates the cstring instance.">cstring_truncate()</a> </li>
<li><a class="el" href="group__group____cstring__api.html#g9d20f065501a565e32bb289314c7e4a0" title="Swaps the contents of the two cstring instances.">cstring_swap()</a> </li>
<li><a class="el" href="cstring_8h.html#96021921b812e9d132c0666373a92d96" title="Reads in a line of text from the given text stream.">cstring_readline()</a> (v3.5 +) </li>
<li><a class="el" href="cstring_8h.html#85a0a0a24c991f994bf985092cf4ef3c" title="Writes a line of text to the given text stream.">cstring_writeline()</a> (v3.5 +) </li>
<li><a class="el" href="cstring_8h.html#e4742df1edf09a827430872fff71dbec" title="Inserts the given string at the given index.">cstring_insert()</a> (v3.5 +) </li>
<li><a class="el" href="cstring_8h.html#10660e73fe3412a7b73db47f55b55c62" title="Inserts the given string at the given index.">cstring_insertLen()</a> (v3.5 +) </li>
<li><a class="el" href="cstring_8h.html#271ee304a2e35cff83dd3a273108a4f0" title="Replaces a specified section of the string with another.">cstring_replace()</a> (v3.5 +) </li>
<li><a class="el" href="cstring_8h.html#7ef358e6fbb5251d34871c7aa0653bf0" title="Replaces a specified section of the string with another.">cstring_replaceLen()</a> (v3.5 +) </li>
<li><a class="el" href="cstring_8h.html#c53b0d476b0b1ed3859a8c0b2270c261" title="Replaces all instances of one substring with another.">cstring_replaceAll()</a> (v3.5 +)</li>
</ul>
Consider the following example, which creates a cstring instance, and then appends two other C-style strings to it, prints it to stdout, truncates it, prints it again, and then destroys it:<p>
<div class="fragment"><pre class="fragment">  <a class="code" href="structcstring__t.html" title="The cstring structure.">cstring_t</a>       str;

  <span class="comment">// create a string from the C-style string "Hello,"</span>
  <a class="code" href="group__group____cstring__api.html#gd7609f5a3cc45f1b253eb1a973cc31b8" title="Creates a cstring instance from a C-style string.">cstring_create</a>(&amp;str, <span class="stringliteral">"Hello,"</span>);

  <span class="comment">// append a space</span>
  <a class="code" href="group__group____cstring__api.html#g47b8f8653362095a3ff01aa5737976ab" title="Appends a fixed number of characters to the cstring instance.">cstring_appendLen</a>(&amp;str, <span class="stringliteral">" "</span>, 1);

  <span class="comment">// append "World!"</span>
  <a class="code" href="group__group____cstring__api.html#g5e0f0c34866a1e0697a887dc1efa279d" title="Appends a C-style string to the cstring instance.">cstring_append</a>(&amp;str, <span class="stringliteral">"World!"</span>);

  <span class="comment">// print it out, passing length+ptr to printf</span>
  printf(<span class="stringliteral">"cstring contents: %.*s\n"</span>, str.<a class="code" href="structcstring__t.html#7360b55975153b822efc5217b7734e6a">len</a>, str.<a class="code" href="structcstring__t.html#935adc2e417a61d7eb6f04efb18ba031">ptr</a>);

  <span class="comment">// truncate it to length 5</span>
  <a class="code" href="group__group____cstring__api.html#ga6493f2db9c6b7f24ef20b3c78aaae81" title="Truncates the cstring instance.">cstring_truncate</a>(&amp;str, 5);

  <span class="comment">// print it again, passing the ptr member to puts()</span>
  puts(str.<a class="code" href="structcstring__t.html#935adc2e417a61d7eb6f04efb18ba031">ptr</a>);

  <span class="comment">// destroy it</span>
  <a class="code" href="group__group____cstring__api.html#gac460578aca86af82a7e2c02123e8540" title="Releases resources and resets the attributes of the cstring instance.">cstring_destroy</a>(&amp;str);
</pre></div><h3><a class="anchor" name="section__c_api__custom_memory">
Custom Memory</a></h3>
<b>cstring</b> supports different allocation from differnet memory libraries. For example, to create a string that allocates its buffer from the Win32 process heap, specify the CSTRING_F_USE_WIN32_PROCESSHEAP_MEMORY to cstring_createEx, as in:<p>
<div class="fragment"><pre class="fragment">  <a class="code" href="structcstring__t.html" title="The cstring structure.">cstring_t</a>       str;

  <a class="code" href="group__group____cstring__api.html#gc2a04a05eafb79f1379c7ee53cf6483a" title="Creates a cstring instance with special characteristics from a C-style string.">cstring_createEx</a>(&amp;str, <span class="stringliteral">"G'day!"</span>, <a class="code" href="cstring_8h.html#41c3fa9d77be172f452f8f0cd6d90293">CSTRING_F_USE_WIN32_PROCESSHEAP_MEMORY</a>, NULL, 0);
</pre></div><p>
All subsequent operations that require memory (de-)allocation on this string will use thw Win32 process heap, e.g.:<p>
<div class="fragment"><pre class="fragment">  <a class="code" href="group__group____cstring__api.html#g5f3b3528568397913073627f0519c512" title="Assigns a C-style string to the cstring instance.">cstring_assign</a>(&amp;str, <span class="stringliteral">"Welcome to the Pleasuredome"</span>); <span class="comment">// Will go to the Win32 process heap</span>
</pre></div><h3><a class="anchor" name="section__c_api__borrowed_memory">
Borrowed Memory</a></h3>
<b>cstring</b> supports the specification of external memory blocks for use by cstring instances, via specification of the CSTRING_F_MEMORY_IS_BORROWED flag, as in:<p>
<div class="fragment"><pre class="fragment">  <span class="keywordtype">char</span>                buff[101];
  <span class="keyword">struct </span><a class="code" href="structcstring__t.html" title="The cstring structure.">cstring_t</a>    str;
  <a class="code" href="group__group____cstring__api.html#g54244b7f245ff8c57097435d2b527938" title="The return code type of the cstring API.">CSTRING_RC</a>          rc  =   <a class="code" href="group__group____cstring__api.html#gc2a04a05eafb79f1379c7ee53cf6483a" title="Creates a cstring instance with special characteristics from a C-style string.">cstring_createEx</a>( &amp;str
                                              , <span class="stringliteral">"Some contents for this "</span>
                                              , <a class="code" href="group__group____cstring__api____flags.html#g96d703e50a8694fcd57da50f981adb5a">CSTRING_F_MEMORY_IS_BORROWED</a>
                                              , &amp;buff[0]
                                              , <span class="keyword">sizeof</span>(buff));
</pre></div> The <code>str</code> instance will do all its memory (de-)allocation with respect to the fixed buffer <code>buff</code>. It will not comply with any operation that requires it to have a capacity of more than <code>sizeof(buff)</code>. <table width = "100%">
 <tr>
  <td width = "100%">
   <hr width = "100%">
  </td>
 </tr>
 <tr>
  <td align = "center" valign = "middle">
   <font size = "-1">
    <a href = "http://www.synesis.com.au/software/cstring.html"><b>cstring</b></a>
    Library documentation 
    (c) Matthew Wilson and <a href = "http://www.synesis.com.au/">Synesis Software Pty Ltd</a>, 1994-2009
   </font>
  </td>
 </tr>
</table>
